#include<bits/stdc++.h>
using namespace std;
struct node{
    int val;
    node *left,*right;
};
node* insert(node* root,int key){
    if(root==NULL)
    {
       node* newnode=new node();
       newnode->left=NULL;
       newnode->right=NULL;
       newnode->val=key;
       return newnode;
    }
    if(key>root->val)
    {
        root->right=insert(root->right,key);
    }
    else
    {
       root->left= insert(root->left,key);
    }

    return root;
}
void inorder(node* root){
    if(root==NULL)return;
    inorder(root->left);
    cout<<root->val<<" ";
    inorder(root->right);
}
void postorder(node* root){
    if(root==NULL)return ;
    postorder(root->left);
    postorder(root->right);
    cout<<root->val<<" ";
}
void preorder(node* root){
    if(root==NULL)return;
    cout<<root->val<<" ";
    preorder(root->left);
    preorder(root->right);
}
int main(){
      int n;
      cin>>n;

      int a[n];
      node *root=NULL;
      for(int i=0;i<n;i++)
      {
        cin>>a[i];
        root=insert(root,a[i]);
      }
      cout<<"preorder\n";
      preorder(root);
      cout<<"\n inorder\n";
      inorder(root);
      cout<<"\n post order\n";
      postorder(root);
      cout<<"\n";



    return 0;
}
